
<div class="profile-board-container">
  <!-- Header della board -->
  <mat-toolbar class="board-header">
    <div class="board-header-content">
      <div class="board-title-section">
        <mat-icon class="profile-avatar">account_circle</mat-icon>
        <div class="board-title-info">
          <h1>{{ currentUser?.full_name }}</h1>
          <p>{{ currentUser?.role | titlecase }} - Profilo Utente</p>
        </div>
      </div>
      <div class="board-actions">
        <button mat-raised-button color="warn" (click)="logout()">
          <mat-icon>logout</mat-icon>
          Esci
        </button>
      </div>
    </div>
  </mat-toolbar>

  <!-- Sequential Layout -->
  <div class="profile-sections">
    <!-- Sezione Informazioni Account -->
    <div class="profile-section">
      <div class="section-header">
        <h3>Informazioni Account</h3>
        <mat-chip color="primary" selected>Dati</mat-chip>
      </div>
      <mat-card class="profile-card">
        <mat-card-content>
          <div class="profile-info-item">
            <mat-icon>badge</mat-icon>
            <div class="info-content">
              <span class="info-label">ID Utente</span>
              <span class="info-value">{{ currentUser?.id_user }}</span>
            </div>
          </div>
          <div class="profile-info-item">
            <mat-icon>person</mat-icon>
            <div class="info-content">
              <span class="info-label">Username</span>
              <span class="info-value">{{ currentUser?.username }}</span>
            </div>
          </div>
          <div class="profile-info-item">
            <mat-icon>email</mat-icon>
            <div class="info-content">
              <span class="info-label">Email</span>
              <span class="info-value">{{ currentUser?.email }}</span>
            </div>
          </div>
          <div class="profile-info-item">
            <mat-icon>security</mat-icon>
            <div class="info-content">
              <span class="info-label">Ruolo</span>
              <span class="info-value">{{ currentUser?.role | titlecase }}</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Sezione Modifica Profilo -->
    <div class="profile-section">
      <div class="section-header">
        <h3>Modifica Profilo</h3>
        <mat-chip color="accent" selected>Gestione</mat-chip>
      </div>
      <mat-card class="profile-card">
        <mat-card-content>
          <form [formGroup]="profileForm" class="profile-form">
            <mat-form-field appearance="outline" class="profile-field">
              <mat-label>Nome completo</mat-label>
              <input matInput formControlName="full_name" [readonly]="!isEditing">
              <mat-icon matSuffix>edit</mat-icon>
            </mat-form-field>
            <mat-form-field appearance="outline" class="profile-field">
              <mat-label>Email</mat-label>
              <input matInput formControlName="email" [readonly]="!isEditing">
              <mat-icon matSuffix>email</mat-icon>
            </mat-form-field>
          </form>
        </mat-card-content>
        <mat-card-actions class="profile-actions">
          <button mat-raised-button color="primary" *ngIf="!isEditing" (click)="enableEdit()">
            <mat-icon>edit</mat-icon>
            Modifica
          </button>
          <button mat-raised-button color="accent" *ngIf="isEditing" (click)="saveProfile()">
            <mat-icon>save</mat-icon>
            Salva
          </button>
          <button mat-button *ngIf="isEditing" (click)="cancelEdit()">
            <mat-icon>close</mat-icon>
            Annulla
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <!-- Sezione Sicurezza -->
    <div class="profile-section">
      <div class="section-header">
        <h3>Sicurezza</h3>
        <mat-chip color="warn" selected>Password</mat-chip>
      </div>
      <mat-card class="profile-card">
        <mat-card-content>
          <div class="security-info">
            <mat-icon class="security-icon">security</mat-icon>
            <div class="security-content">
              <h4>Gestione Password</h4>
              <p>Cambia la tua password per mantenere l'account sicuro</p>
            </div>
          </div>
        </mat-card-content>
        <mat-card-actions class="profile-actions">
          <button mat-raised-button color="secondary" (click)="openChangePasswordDialog()">
            <mat-icon>lock</mat-icon>
            Cambia Password
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>


